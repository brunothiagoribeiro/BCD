DROP DATABASE IF EXISTS db_faculdade;

CREATE DATABASE IF NOT EXISTS db_faculdade;

USE db_faculdade;

CREATE TABLE tb_curso(
id_curso INT PRIMARY KEY AUTO_INCREMENT,
nome VARCHAR(50),
carga_horaria INT,
materias  VARCHAR(50)
);

CREATE TABLE tb_aluno (
    id_aluno INT PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(50) NOT NULL,
    cpf VARCHAR(10)  NOT NULL,
    rg VARCHAR (50) NOT NULL,
    idade INT,
    rm INT,
    CURSO_id_curso INT,
    FOREIGN KEY (CURSO_id_curso) REFERENCES tb_curso(id_curso)
);

CREATE TABLE tb_professor(
id_professor INT PRIMARY KEY AUTO_INCREMENT,
nome VARCHAR(50),
idade INT,
cod_profesor INT,
rg  VARCHAR(50),
cpf  VARCHAR(50),
CURSO_id_curso INT,
FOREIGN KEY (CURSO_id_curso) REFERENCES tb_curso(id_curso)
);

USE db_faculdade;

INSERT INTO tb_curso VALUES
(DEFAULT,"DESENVOLVIMENTO DE SISTEMAS",10, "BANCO DE DADOS"),
(DEFAULT,"ANALISE DE SISTEAMS",7, "LIMA"),
(DEFAULT,"EDUCACAO FISICA",5, "ANATOMIA"),
(DEFAULT,"HISTORIA",10, "REVOLUCAO FRANCESA"),
(DEFAULT,"GEOGRAFIA",18, "PLANICIE"),
(DEFAULT,"BIOLOGIA",12, "DNA"),
(DEFAULT,"FILOSOFIA",15, "ETICA"),
(DEFAULT,"SOCIOLOGIA",2, "MORAL"),
(DEFAULT,"DIREITO",10, "LEIS"),
(DEFAULT,"ENGENHARIA DE SOFTWARE",10, "SOFTWARE");


INSERT INTO tb_professor VALUES
(DEFAULT , "bruno",28,2134,436542346765344,483643634,10),
(DEFAULT , "gutas",28,214,436542332544674,483643634,9),
(DEFAULT , "pz",22,234,43654232344674,483643634,8),
(DEFAULT , "kaiki",30,134,436542346234474,483643634,7),
(DEFAULT , "bruno g",20,2164,4365423467564,483643634,6),
(DEFAULT , "agapito",22,2934,43654234675234,483643634,5),
(DEFAULT , "rafinha",23,9134,43654234673244,483643634,4),
(DEFAULT , "adilson",24,2134,43654234324674,483643634,3),
(DEFAULT , "patricia",25,21634,43654345234674,483643634,1),
(DEFAULT , "leme",26,213434,4367654234674,483643634,2);

INSERT INTO tb_aluno VALUES
(DEFAULT , "bruno",2886734523,21345464,43,4836,10),
(DEFAULT , "brun",2886734523,21345464,43,4836,10),
(DEFAULT , "run",2886734523,21345464,43,4836,10),
(DEFAULT , "brno",2886734523,21345464,43,4836,10),
(DEFAULT , "uno",2886734523,21345464,43,4836,10),
(DEFAULT , "buo",2886734523,21345464,43,4836,10),
(DEFAULT , "gfsbruno",2886734523,21345464,43,4836,10),
(DEFAULT , "bdsarno",2886734523,21345464,43,4836,10),
(DEFAULT , "brgdsuno",2886734523,21345464,43,4836,10),
(DEFAULT , "bruafno",2886734523,21345464,43,4836,10);

ALTER TABLE tb_aluno
ADD COLUMN altura DECIMAL(2,2);

UPDATE tb_curso
SET materias = 'Software'
WHERE id_curso = 1;

SELECT tb_professor.nome , tb_curso.nome
FROM tb_professor
INNER JOIN tb_curso
ON tb_professor.CURSO_id_curso = tb_curso.id_curso;

CREATE VIEW vw_relacaoalunocurso AS
SELECT tb_aluno.nome, tb_curso.nome
FROM tb_aluno
JOIN tb_curso
ON tb_aluno.CURSO_id_curso = tb_curso.id_curso;



